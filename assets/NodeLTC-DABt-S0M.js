import{e as A,q as Y,n as B,f as S,p as R,s as Q,v as q,k as V,c as f,o as c,b as e,y as h,t as o,x as J,B as K,l as x,D as W,w as T,d as _,u as i,F as L,C as H,g as X,m as Z,z as v,G as p,H as N,I as E,J as U}from"./index-CkTquMHh.js";import{E as tt,a as et}from"./el-tab-pane-BlA9VPLs.js";const st={class:"w-full h-40 relative"},lt={class:"pointer-events-none absolute inset-0 w-full h-full p-4"},at={class:"text-5xl font-bold transition-all"},nt={class:"text-lime-500"},ot={class:"p-4 -translate-y-12"},it={class:"flex rounded-lg w-full"},rt={class:"tabs-t-2 w-full h-full"},ct={key:0,class:"text-sm text-gray-400 flex items-center justify-center w-full h-full"},dt=["onClick"],ut={class:"text-xs text-zinc-300 flex items-center justify-between"},ft={class:"py-4"},mt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},_t={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},ht={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},xt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},vt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},pt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},Nt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},Et={key:0},bt={key:1},Ct={class:"text-lime-500"},wt={key:2},yt={key:3},a="LTC",Dt={__name:"NodeLTC",setup(It){const m=A(),r=Y(),G=B(),g=S(null),b=S(!1),M=s=>{window.$Func.copyText(s)},l=R({realtimeHashrate:{num:0,unit:"TH"},workerNum:0,networkHashrate:0,theoreticalIncome:0,theoreticalIncomeUnit:"H",diffculty:0,fee:0}),C=R({series:[{name:`${a}算力`,data:[],xAxisData:[]}],showLegend:!1,coin:a}),$=Q(()=>{let s="获取中...";if(r.QUOTES[a]&&r.RATES.CNY&&l.theoreticalIncome&&r.MERGE_MINING[a]){let t=r.MERGE_MINING[a].DOGE/(1/l.theoreticalIncome)*r.QUOTES.DOGE*r.RATES.CNY,n=r.MERGE_MINING[a].BEL/(1/l.theoreticalIncome)*r.QUOTES.BEL*r.RATES.CNY,d=Number(l.theoreticalIncome)*r.QUOTES[a]*r.RATES.CNY;s="¥ "+(t+n+d).toFixed(2)}return s}),z=()=>{b.value=!0;let s=`${N.get_pool_hashrate}?coin=${a}`;p({method:"get",url:s}).then(t=>{if(b.value=!1,t.data.status==0){let n=P(t.data.data);C.series=[{name:`${a}算力`,data:n.data,xAxisData:n.time}],C.customUnit=n.unit,g.value.initChart()}else E.error("获取节点信息失败。")})},O=s=>{let t,n=location.hostname,d=s.port,u=s.remark;return u||(console.log(s.protocol),s.protocol==0?t="stratum+tcp://":s.protocol==1?t="stratum+ssl://":s.protocol==2?t="RMS://":s.protocol==3?t="stratum+(tcp/ssl)://":s.protocol==5&&(t="RMS2://"),`${t}${n}:${d}`)},j=()=>{let s=`${N.get_pool_info}?coin=${a}`;p({method:"get",url:s}).then(n=>{n.data.status==0?(l.workerNum=n.data.data.ltc.workers,l.realtimeHashrate.num=n.data.data.ltc.shares.shares_15m,l.realtimeHashrate.unit=n.data.data.ltc.shares.shares_unit):E.error("获取节点信息失败。")});let t=`${N.get_pool_info_2}?coin=${a}`;p({method:"get",url:t}).then(n=>{n.data.status==0?(l.networkHashrate=n.data.data.LTC.net_hash,l.theoreticalIncome=n.data.data.LTC.rewards_per_unit,l.diffculty=n.data.data.LTC.difficulty,l.theoreticalIncomeUnit=n.data.data.LTC.reward_unit):E.error("获取节点信息失败。")})},P=s=>{U.locale("zh-cn");let t=s.tickers,n=s.unit,d={data:[],time:[],unit:n};for(let u=0;u<t.length;u++){let w=t[u][0],y=t[u][1];d.data.push(y),d.time.push(U(w*1e3).format("MMMM Do YYYY, h:mm:ss a"))}return d},F=()=>{p({method:"get",url:N.get_fee}).then(s=>{s.data.status==0?s.data.data.forEach(t=>{t.coin==a&&(l.fee=t.r*100)}):E.error("获取费率失败!")})};return q(()=>{j(),F(),z()}),(s,t)=>{const n=V("DocumentCopy"),d=Z,u=tt,w=et,y=K;return c(),f("div",null,[e("div",{class:"px-4 text-xs text-zinc-400 flex items-center"},[t[0]||(t[0]=e("span",{class:"block rounded-full w-2 h-2 bg-blue-500 mr-2"},null,-1)),h(o(a)+" 矿池算力 ")]),e("div",st,[J(x(W,{chartConfig:C,ref_key:"hashChartRef",ref:g},null,8,["chartConfig"]),[[y,b.value]]),e("div",lt,[e("h2",at,[e("span",nt,o(l.realtimeHashrate.num),1),h(" "+o(l.realtimeHashrate.unit),1)])])]),e("div",ot,[e("div",it,[e("div",rt,[x(w,{"model-value":"all",type:"border-card",class:"h-full"},{default:T(()=>[!i(m).ENDPOINT_NODE[a]||i(m).ENDPOINT_NODE[a]&&!i(m).ENDPOINT_NODE[a][0]?(c(),f("div",ct,"此节点暂无公开端口")):_("",!0),(c(!0),f(L,null,H(i(m).ENDPOINT_NODE[a],(I,k)=>(c(),X(u,{label:k==0?"全部地区":I[0].endpoint_name.split("-")[0],name:k==0?"all":I[0].endpoint_name},{default:T(()=>[(c(!0),f(L,null,H(I,(D,Tt)=>(c(),f("div",{onClick:gt=>M(O(D)),class:"p-1"},[e("div",ut,[h(o(O(D))+" ",1),x(d,null,{default:T(()=>[x(n)]),_:1})])],8,dt))),256))]),_:2},1032,["label","name"]))),256))]),_:1})])]),e("div",ft,[e("div",mt,[t[1]||(t[1]=e("div",null," 日理论收益 ",-1)),e("div",null,o($.value)+" / "+o(l.theoreticalIncomeUnit),1)]),e("div",_t,[t[2]||(t[2]=e("div",null," 全网算力 ",-1)),e("div",null,o(i(v)(a,l.networkHashrate).num)+" "+o(i(v)(a,l.networkHashrate).unit),1)]),e("div",ht,[t[3]||(t[3]=e("div",null," 矿池算力 ",-1)),e("div",null,o(l.realtimeHashrate.num)+" "+o(l.realtimeHashrate.unit),1)]),e("div",xt,[t[4]||(t[4]=e("div",null," 矿工数量 ",-1)),e("div",null,o(l.workerNum),1)]),e("div",vt,[t[5]||(t[5]=e("div",null," 挖矿难度 ",-1)),e("div",null,o(i(v)(a,l.diffculty).num)+" "+o(i(v)(a,l.diffculty).unit),1)]),e("div",pt,[t[6]||(t[6]=e("div",null," 最小起付额 ",-1)),e("div",null,o(i(G).COIN_DEFAULT_PAY[a].count)+" "+o(a),1)]),e("div",Nt,[i(m).CONFIG.fee=="1"?(c(),f("div",Et," 收益模式与费率 ")):_("",!0),i(m).CONFIG.fee=="1"?(c(),f("div",bt,[e("div",null,[t[7]||(t[7]=h("PPS ")),e("span",Ct,o(l.fee)+" %",1)])])):_("",!0),i(m).CONFIG.fee=="0"?(c(),f("div",wt," 收益模式 ")):_("",!0),i(m).CONFIG.fee=="0"?(c(),f("div",yt,t[8]||(t[8]=[e("div",null,"PPS",-1)]))):_("",!0)]),t[9]||(t[9]=e("div",{class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},[e("div",null," 打款时间(UTC) "),e("div",null," 每日02:00到10:00 ")],-1)),t[10]||(t[10]=e("div",{class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},[e("div",null," 结算时间(UTC) "),e("div",null," 昨日00:00到今日00:00 ")],-1))])])])}}};export{Dt as default};
