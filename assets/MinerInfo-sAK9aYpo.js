import{J as z,e as _,g as H,k as I,l as N,n as $,aV as M,c as f,a as e,v as w,x as s,u as t,j as S,C as j,y as r,b as g,I as v,D as T,G as V,H as Y,h as D,o as p}from"./index-D6Gy3zvT.js";const A={class:"px-4 text-xs text-zinc-400 flex items-center"},E={class:"w-full h-40 relative"},R={class:"pointer-events-none absolute inset-0 w-full h-full p-4"},O={class:"text-5xl font-bold transition-all"},B={class:"text-lime-500"},L={class:"p-4 -translate-y-12"},F={class:"p-4 grid gap-3 grid-cols-2 rounded-lg w-full border border-zinc-700 bg-zinc-800"},G={class:"text-sm text-zinc-200"},J={class:"text-zinc-400 text-xs mb-2"},P={class:"flex justify-center font-bold"},q={class:"text-sm text-zinc-200"},K={class:"text-zinc-400 text-xs mb-2"},Q={class:"flex justify-center font-bold"},U={class:"py-4"},W={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},X={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},Z={key:0},ee={key:1},te={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},se={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},ae={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},ie={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},oe={__name:"MinerInfo",setup(re){const{t:c}=z();D();const a=M(),d=_(null),k=_("hourly");H();const m=I(),x=_(!1),u=N({series:[{name:`${c("算力")}`,data:[],xAxisData:[]}],showLegend:!1,coin:""}),C=i=>{x.value=!0,T({method:"get",url:V.get_worker_detail.replace("{coin}",m.ACTIVE_COIN).replace("{mode}",k.value).replace("{worker}",i.worker).replace("{sid}",i.sid)}).then(n=>{if(x.value=!1,n.data.status==0){let o=y(n.data.data);u.series=[{name:`${m.ACTIVE_COIN}${c("算力")}`,data:o.data,xAxisData:o.time}],u.coin=m.ACTIVE_COIN,d.value.initChart()}else Y.error(c("获取图表数据失败。"))}),d.value.initChart()},y=i=>{v.locale("zh-cn");let n=i.start_time||i.startTime,o=i.hashrates,h={data:[],time:[]};for(let l=0;l<o.length;l++){let b;b=n+i.timeInterval*1e3*l,h.data.push(o[l]),h.time.push(v(b).format("MMMM Do YYYY, h:mm:ss a"))}return h};return $(()=>{let i;a.params.workerName!="unknow"&&(i=a.params.workerName),a.params.workerId!="unknow"&&(i=a.params.workerId),C({workerName:a.params.workerName,sid:a.params.sid,worker:i})}),(i,n)=>(p(),f("div",null,[e("div",A,[n[0]||(n[0]=e("span",{class:"block rounded-full w-2 h-2 bg-blue-500 mr-2"},null,-1)),w(s(t(a).params.workerName),1)]),e("div",E,[S(j,{chartConfig:u,ref_key:"hashChartRef",ref:d},null,8,["chartConfig"]),e("div",R,[e("h2",O,[e("span",B,s(t(r)("btc",t(a).params.realtimeHashrate).num),1),w(" "+s(t(r)("btc",t(a).params.realtimeHashrate).unit)+" / S ",1)])])]),e("div",L,[e("div",F,[e("div",G,[e("div",J,s(i.$t("当前算力")),1),e("div",P,s(t(r)("btc",t(a).params.realtimeHashrate).num)+" "+s(t(r)("btc",t(a).params.realtimeHashrate).unit)+" /S ",1)]),e("div",q,[e("div",K,s(i.$t("24H算力")),1),e("div",Q,s(t(r)("btc",t(a).params.avgHashrate1440).num)+" "+s(t(r)("btc",t(a).params.avgHashrate1440).unit)+" / S ",1)])]),e("div",U,[e("div",W,[e("div",null,s(i.$t("设备名称")),1),e("div",null,s(t(a).params.workerName),1)]),e("div",X,[e("div",null,s(i.$t("活跃状态")),1),e("div",null,[t(a).params.status=="active"?(p(),f("div",Z,s(i.$t("在线")),1)):g("",!0),t(a).params.status=="inactive"?(p(),f("div",ee,s(i.$t("离线")),1)):g("",!0)])]),e("div",te,[e("div",null,s(i.$t("当前算力")),1),e("div",null,s(t(r)("btc",t(a).params.realtimeHashrate).num)+" "+s(t(r)("btc",t(a).params.realtimeHashrate).unit)+" /S ",1)]),e("div",se,[e("div",null,s(i.$t("24H算力")),1),e("div",null,s(t(r)("btc",t(a).params.avgHashrate1440).num)+" "+s(t(r)("btc",t(a).params.avgHashrate1440).unit)+" / S ",1)]),e("div",ae,[e("div",null,s(i.$t("拒绝率")),1),e("div",null,s((t(a).params.avgRejectrate1440*100).toFixed(2))+" % ",1)]),e("div",ie,[e("div",null,s(i.$t("最后提交日期")),1),e("div",null,s(t(v)(t(a).params.lastShareTime*1e3).format("MMMM Do YYYY, h:mm:ss a")),1)])])])]))}};export{oe as default};
