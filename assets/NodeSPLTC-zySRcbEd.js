import{J as Y,e as P,d as B,q as U,l as S,m as Q,n as q,p as J,c,o as i,a as e,v as x,x as s,u as n,s as K,A as W,j as p,C as X,y as u,w as T,b as _,F,B as H,f as Z,t as tt,D as C,G as b,H as w,I as j}from"./index-CB3OnIWK.js";import{E as et,a as st}from"./el-tab-pane-B7kfLapA.js";/* empty css                   */const at={class:"px-4 text-xs text-zinc-400 flex items-center"},ot={class:"w-full h-40 relative"},nt={class:"pointer-events-none absolute inset-0 w-full h-full p-4"},lt={class:"text-5xl font-bold transition-all"},it={class:"text-lime-500"},rt={class:"p-4 -translate-y-12"},ct={class:"flex rounded-lg w-full"},dt={class:"tabs-t-2 w-full h-full"},ut={key:0,class:"text-sm text-gray-400 flex items-center justify-center w-full h-full"},ft=["onClick"],mt={class:"text-xs text-zinc-300 flex items-center justify-between"},ht={class:"py-4"},_t={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},vt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},xt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},pt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},Ct={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},bt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},wt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},Nt={key:0},yt={key:1},$t={class:"text-lime-500"},gt={key:2},Tt={key:3},kt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},Et={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},l="SP-LTC",Ht={__name:"NodeSPLTC",setup(It){const{t:f}=Y(),N=window.$Func,k=P(null),y=P(!1),d=B(),v=U(),o=S({realtimeHashrate:0,workerNum:0,networkHashrate:0,theoreticalIncome:0,diffculty:0,fee:0}),E=S({series:[{name:`${l}${f("算力")}`,data:[],xAxisData:[]}],showLegend:!1,coin:l}),z=t=>{window.$Func.copyText(t)},A=Q(()=>{let t=f("获取中...");return v.QUOTES[l]&&v.RATES.CNY&&o.theoreticalIncome&&(t="¥ "+(Number(o.theoreticalIncome)*v.QUOTES[l]*v.RATES.CNY).toFixed(2)),t}),I=t=>{let a,h=location.hostname,m=t.port,r=t.remark;return r||(t.protocol==0?a="stratum+tcp://":t.protocol==1?a="stratum+ssl://":t.protocol==2?a="RMS://":t.protocol==3?a="stratum+(tcp/ssl)://":t.protocol==5&&(a="RMS2://"),`${a}${h}:${m}`)},L=t=>{j.locale("zh-cn");let a=t.start_time||t.startTime,h=t.hashrates,m={data:[],time:[]};for(let r=0;r<h.length;r++){let $=a+6e5*r;m.data.push(h[r]),m.time.push(j($).format("MMMM Do YYYY, h:mm:ss a"))}return m},V=()=>{y.value=!0,C({method:"get",url:b.get_pool_hashrate+`?coin=${l}`}).then(t=>{if(y.value=!1,t.data.status==0){let a=L(t.data.data);E.series=[{name:`${N.transPoolCoinName(l)}${f("算力")}`,data:a.data,xAxisData:a.time}],k.value.initChart()}else w.error(f("获取节点信息失败。"))})},M=()=>{C({method:"get",url:b.get_pool_info+`?coin=${l}`}).then(t=>{t.data.status==0?(o.realtimeHashrate=t.data.data[0].realtimeHashrate,o.workerNum=t.data.data[0].workerNum):w.error(f("获取节点信息失败。"))}),C({method:"get",url:b.get_pool_info_2+`?coin=${l}`}).then(t=>{t.data.status==0?(o.networkHashrate=t.data.data[0].networkHashrate,o.theoreticalIncome=t.data.data[0].theoreticalIncome.toFixed(15).replace(/\.?0+$/,""),o.diffculty=t.data.data[0].diffculty):w.error(f("获取节点信息失败。"))})},R=()=>{C({method:"get",url:b.get_fee}).then(t=>{t.data.status==0?t.data.data.forEach(a=>{a.coin=="VA-LTC"&&(o.fee=a.r*100)}):w.error(f("获取费率失败!"))})};return q(()=>{M(),R(),V()}),(t,a)=>{const h=J("DocumentCopy"),m=tt,r=et,$=st,G=W;return i(),c("div",null,[e("div",at,[a[0]||(a[0]=e("span",{class:"block rounded-full w-2 h-2 bg-blue-500 mr-2"},null,-1)),x(s(n(N).transPoolCoinName(l))+" "+s(t.$t("矿池算力")),1)]),e("div",ot,[K(p(X,{chartConfig:E,ref_key:"hashChartRef",ref:k},null,8,["chartConfig"]),[[G,y.value]]),e("div",nt,[e("h2",lt,[e("span",it,s(n(u)(l,o.realtimeHashrate).num),1),x(" "+s(n(u)(l,o.realtimeHashrate).unit)+" / S ",1)])])]),e("div",rt,[e("div",ct,[e("div",dt,[p($,{"model-value":"all",type:"border-card",class:"h-full"},{default:T(()=>[!n(d).ENDPOINT_NODE["VA-LTC"]||n(d).ENDPOINT_NODE["VA-LTC"]&&!n(d).ENDPOINT_NODE["VA-LTC"][0]?(i(),c("div",ut,s(t.$t("此节点暂无公开端口")),1)):_("",!0),(i(!0),c(F,null,H(n(d).ENDPOINT_NODE["VA-LTC"],(g,O)=>(i(),Z(r,{label:O==0?t.$t("全部地区"):g[0].endpoint_name.split("-")[0],name:O==0?"all":g[0].endpoint_name},{default:T(()=>[(i(!0),c(F,null,H(g,(D,Ot)=>(i(),c("div",{onClick:Dt=>z(I(D)),class:"p-1"},[e("div",mt,[x(s(I(D))+" ",1),p(m,null,{default:T(()=>[p(h)]),_:1})])],8,ft))),256))]),_:2},1032,["label","name"]))),256))]),_:1})])]),e("div",ht,[e("div",_t,[e("div",null,s(t.$t("日理论收益")),1),e("div",null,s(A.value),1)]),e("div",vt,[e("div",null,s(t.$t("全网算力")),1),e("div",null,s(n(u)(l,o.networkHashrate).num)+" "+s(n(u)(l,o.networkHashrate).unit),1)]),e("div",xt,[e("div",null,s(t.$t("矿池算力")),1),e("div",null,s(n(u)(l,o.realtimeHashrate).num)+" "+s(n(u)(l,o.realtimeHashrate).unit),1)]),e("div",pt,[e("div",null,s(t.$t("矿工数量")),1),e("div",null,s(o.workerNum),1)]),e("div",Ct,[e("div",null,s(t.$t("挖矿难度")),1),e("div",null,s(n(u)(l,o.diffculty).num)+" "+s(n(u)(l,o.diffculty).unit),1)]),e("div",bt,[e("div",null,s(t.$t("最小起付额")),1),e("div",null," 0.02 "+s(n(N).transPoolCoinName(l)),1)]),e("div",wt,[n(d).CONFIG.fee=="1"?(i(),c("div",Nt,s(t.$t("收益模式与费率")),1)):_("",!0),n(d).CONFIG.fee=="1"?(i(),c("div",yt,[e("div",null,[a[1]||(a[1]=x("FPPS ")),e("span",$t,s(o.fee)+" %",1)])])):_("",!0),n(d).CONFIG.fee=="0"?(i(),c("div",gt,s(t.$t("收益模式")),1)):_("",!0),n(d).CONFIG.fee=="0"?(i(),c("div",Tt,a[2]||(a[2]=[e("div",null,"PPS",-1)]))):_("",!0)]),e("div",kt,[e("div",null,s(t.$t("打款时间(UTC)")),1),e("div",null,s(t.$t("每日02:00到10:00")),1)]),e("div",Et,[e("div",null,s(t.$t("结算时间(UTC)")),1),e("div",null,s(t.$t("昨日00:00到今日00:00")),1)])])])])}}};export{Ht as default};
