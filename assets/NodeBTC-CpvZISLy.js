import{J as U,e as k,d as M,H as Y,k as G,l as E,I as H,m as L,n as V,c as u,o as i,a as e,s as h,t as s,p as q,y as Q,j as N,A as J,u as o,w as b,b as m,F as D,z as g,f as K,q as W,v as S,B as X,C as Z,D as ee,G as j}from"./index-DC_M4ZfZ.js";import{E as te,a as se}from"./el-tab-pane-DVzA1p8x.js";import{c as ne}from"./coinInfoStore-pVyoXHdJ.js";/* empty css                   */const oe={class:"px-4 text-xs text-zinc-400 flex items-center"},le={class:"w-full h-40 relative"},ae={class:"pointer-events-none absolute inset-0 w-full h-full p-4"},ie={class:"text-5xl font-bold transition-all"},ce={class:"text-lime-500"},re={class:"p-4 -translate-y-12"},ue={class:"flex rounded-lg w-full"},de={class:"tabs-t-2 w-full h-full"},_e={key:0,class:"text-sm text-gray-400 flex items-center justify-center w-full h-full"},me=["onClick"],fe={class:"text-xs text-zinc-300 flex items-center justify-between"},he={class:"py-4"},Ne={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},Ie={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},Oe={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},ve={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},Ce={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},xe={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},pe={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},be={key:0},we={key:1},ye={class:"text-lime-500"},Fe={key:2},Te={key:3},$e={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},ke={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},n="PI-BTC",Be={__name:"NodeBTC",setup(Ee){const{t:w}=U(),z=window.$Func,y=k(null),I=k(!1),d=M(),f=Y(),a=ne(),P=G(),O=E({realtimeHashrate:0,workerNum:0,networkHashrate:0,theoreticalIncome:0,diffculty:0,fee:0}),v=E({series:[{name:`BTC${w("算力")}`,data:[],xAxisData:[]}],showLegend:!1,coin:n}),B=t=>{window.$Func.copyText(t)};H(()=>{let t=w("获取中..."),l;return f.QUOTES.BTC&&f.RATES.CNY&&O.theoreticalIncome&&(l="¥ "+(Number(O.theoreticalIncome)*f.QUOTES.BTC*f.RATES.CNY).toFixed(4),t=`1T ≈ ${l} ≈ ${O.theoreticalIncome} ${z.transPoolCoinName(n)}`),t});const F=t=>{let l,c=location.hostname,_=t.port,r=t.remark;return r||(t.protocol==0?l="stratum+tcp://":t.protocol==1?l="stratum+ssl://":t.protocol==2?l="RMS://":t.protocol==3?l="stratum+(tcp/ssl)://":t.protocol==5&&(l="RMS2://"),`${l}${c}:${_}`)},R=t=>{j.locale("zh-cn"),console.log(t);let l=t.tickers,c=t.unit,_={data:[],time:[],unit:c};for(let r=0;r<l.length;r++){let C=l[r][0],x=l[r][1];_.data.push(x),_.time.push(j(C*1e3).format("MMMM Do YYYY, h:mm:ss a"))}return _},A=()=>{I.value=!0;let t=`${Z.get_pool_hashrate}?coin=${n}`;X({method:"get",url:t}).then(l=>{if(I.value=!1,l.data.status==0){let c=R(l.data.data);v.series=[{name:`${n}算力`,data:c.data,xAxisData:c.time}],v.customUnit=c.unit,y.value.initChart()}else ee.error("获取节点信息失败。")})};return L(()=>{a.UPDATE_COIN_INFO(n),A()}),(t,l)=>{const c=V("DocumentCopy"),_=W,r=te,C=se,x=Q;return i(),u("div",null,[e("div",oe,[l[0]||(l[0]=e("span",{class:"block rounded-full w-2 h-2 bg-blue-500 mr-2"},null,-1)),h(s(t.$t("BTC 矿池算力")),1)]),e("div",le,[q(N(J,{chartConfig:v,ref_key:"hashChartRef",ref:y},null,8,["chartConfig"]),[[x,I.value]]),e("div",ae,[e("h2",ie,[e("span",ce,s(o(a).COIN_INFO[n].hashrate.num),1),h(" "+s(o(a).COIN_INFO[n].hashrate.unit)+" / S ",1)])])]),e("div",re,[e("div",ue,[e("div",de,[N(C,{"model-value":"all",type:"border-card",class:"h-full"},{default:b(()=>[!o(d).ENDPOINT_NODE[n]||o(d).ENDPOINT_NODE[n]&&!o(d).ENDPOINT_NODE[n][0]?(i(),u("div",_e,s(t.$t("此节点暂无公开端口")),1)):m("",!0),(i(!0),u(D,null,g(o(d).ENDPOINT_NODE[n],(p,T)=>(i(),K(r,{label:T==0?t.$t("全部地区"):p[0].endpoint_name.split("-")[0],name:T==0?"all":p[0].endpoint_name},{default:b(()=>[(i(!0),u(D,null,g(p,($,De)=>(i(),u("div",{onClick:ge=>B(F($)),class:"p-1"},[e("div",fe,[h(s(F($))+" ",1),N(_,null,{default:b(()=>[N(c)]),_:1})])],8,me))),256))]),_:2},1032,["label","name"]))),256))]),_:1})])]),e("div",he,[e("div",Ne,[e("div",null,s(t.$t("日理论收益")),1),e("div",null,s(o(a).COIN_INFO[n].theoreticalIncome.cny)+" / "+s(o(a).COIN_INFO[n].theoreticalIncome.unit),1)]),e("div",Ie,[e("div",null,s(t.$t("全网算力")),1),e("div",null,s(o(S)(n,o(a).COIN_INFO[n].networkHashrate).num)+" "+s(o(S)(n,o(a).COIN_INFO[n].networkHashrate).unit),1)]),e("div",Oe,[e("div",null,s(t.$t("矿池算力")),1),e("div",null,s(o(a).COIN_INFO[n].hashrate.num)+" "+s(o(a).COIN_INFO[n].hashrate.unit),1)]),e("div",ve,[e("div",null,s(t.$t("矿工数量")),1),e("div",null,s(o(a).COIN_INFO[n].worker),1)]),e("div",Ce,[e("div",null,s(t.$t("挖矿难度")),1),e("div",null,s(o(a).COIN_INFO[n].networkDiff)+" "+s(o(a).COIN_INFO[n].networkDiff.unit),1)]),e("div",xe,[e("div",null,s(t.$t("最小起付额")),1),e("div",null,s(o(P).COIN_DEFAULT_PAY[n].count)+" "+s(n),1)]),e("div",pe,[o(d).CONFIG.fee=="1"?(i(),u("div",be,s(t.$t("收益模式与费率")),1)):m("",!0),o(d).CONFIG.fee=="1"?(i(),u("div",we,[e("div",null,[l[1]||(l[1]=h("FPPS ")),e("span",ye,s(o(a).COIN_INFO[n].fee)+" %",1)])])):m("",!0),o(d).CONFIG.fee=="0"?(i(),u("div",Fe,s(t.$t("收益模式")),1)):m("",!0),o(d).CONFIG.fee=="0"?(i(),u("div",Te,[e("div",null,s(o(a).COIN_INFO[n].model),1)])):m("",!0)]),e("div",$e,[e("div",null,s(t.$t("打款时间(UTC)")),1),e("div",null,s(o(a).COIN_INFO[n].payTime),1)]),e("div",ke,[e("div",null,s(t.$t("结算时间(UTC)")),1),e("div",null,s(o(a).COIN_INFO[n].accountTime),1)])])])])}}};export{Be as default};
