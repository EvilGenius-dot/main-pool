import{K as z,f,h as H,n as I,p as N,v as $,aW as M,c as _,b as t,y as w,t as s,u as e,l as S,D as j,z as r,d as g,J as v,G as T,H as Y,I as D,j as V,o as p}from"./index-LtxatZno.js";const A={class:"px-4 text-xs text-zinc-400 flex items-center"},E={class:"w-full h-40 relative"},R={class:"pointer-events-none absolute inset-0 w-full h-full p-4"},O={class:"text-5xl font-bold transition-all"},B={class:"text-lime-500"},L={class:"p-4 -translate-y-12"},F={class:"p-4 grid gap-3 grid-cols-2 rounded-lg w-full border border-zinc-700 bg-zinc-800"},G={class:"text-sm text-zinc-200"},J={class:"text-zinc-400 text-xs mb-2"},K={class:"flex justify-center font-bold"},P={class:"text-sm text-zinc-200"},W={class:"text-zinc-400 text-xs mb-2"},q={class:"flex justify-center font-bold"},Q={class:"py-4"},U={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},X={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},Z={key:0},tt={key:1},et={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},st={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},at={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},it={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},ot={__name:"MinerInfo",setup(rt){const{t:c}=z();V();const a=M(),d=f(null),k=f("hourly");H();const m=I(),x=f(!1),u=N({series:[{name:`${c("算力")}`,data:[],xAxisData:[]}],showLegend:!1,coin:""}),C=i=>{x.value=!0,T({method:"get",url:Y.get_worker_detail.replace("{coin}",m.ACTIVE_COIN).replace("{mode}",k.value).replace("{worker}",i.worker).replace("{sid}",i.sid)}).then(n=>{if(x.value=!1,n.data.status==0){let o=y(n.data.data);u.series=[{name:`${m.ACTIVE_COIN}${c("算力")}`,data:o.data,xAxisData:o.time}],u.coin=m.ACTIVE_COIN,d.value.initChart()}else D.error(c("获取图表数据失败。"))}),d.value.initChart()},y=i=>{v.locale("zh-cn");let n=i.start_time||i.startTime,o=i.hashrates,h={data:[],time:[]};for(let l=0;l<o.length;l++){let b;b=n+i.timeInterval*1e3*l,h.data.push(o[l]),h.time.push(v(b).format("MMMM Do YYYY, h:mm:ss a"))}return h};return $(()=>{let i;a.params.workerName!="unknow"&&(i=a.params.workerName),a.params.workerId!="unknow"&&(i=a.params.workerId),C({workerName:a.params.workerName,sid:a.params.sid,worker:i})}),(i,n)=>(p(),_("div",null,[t("div",A,[n[0]||(n[0]=t("span",{class:"block rounded-full w-2 h-2 bg-blue-500 mr-2"},null,-1)),w(s(e(a).params.workerName),1)]),t("div",E,[S(j,{chartConfig:u,ref_key:"hashChartRef",ref:d},null,8,["chartConfig"]),t("div",R,[t("h2",O,[t("span",B,s(e(r)("btc",e(a).params.realtimeHashrate).num),1),w(" "+s(e(r)("btc",e(a).params.realtimeHashrate).unit)+" / S ",1)])])]),t("div",L,[t("div",F,[t("div",G,[t("div",J,s(i.$t("当前算力")),1),t("div",K,s(e(r)("btc",e(a).params.realtimeHashrate).num)+" "+s(e(r)("btc",e(a).params.realtimeHashrate).unit)+" /S ",1)]),t("div",P,[t("div",W,s(i.$t("24H算力")),1),t("div",q,s(e(r)("btc",e(a).params.avgHashrate1440).num)+" "+s(e(r)("btc",e(a).params.avgHashrate1440).unit)+" / S ",1)])]),t("div",Q,[t("div",U,[t("div",null,s(i.$t("设备名称")),1),t("div",null,s(e(a).params.workerName),1)]),t("div",X,[t("div",null,s(i.$t("活跃状态")),1),t("div",null,[e(a).params.status=="active"?(p(),_("div",Z,s(i.$t("在线")),1)):g("",!0),e(a).params.status=="inactive"?(p(),_("div",tt,s(i.$t("离线")),1)):g("",!0)])]),t("div",et,[t("div",null,s(i.$t("当前算力")),1),t("div",null,s(e(r)("btc",e(a).params.realtimeHashrate).num)+" "+s(e(r)("btc",e(a).params.realtimeHashrate).unit)+" /S ",1)]),t("div",st,[t("div",null,s(i.$t("24H算力")),1),t("div",null,s(e(r)("btc",e(a).params.avgHashrate1440).num)+" "+s(e(r)("btc",e(a).params.avgHashrate1440).unit)+" / S ",1)]),t("div",at,[t("div",null,s(i.$t("拒绝率")),1),t("div",null,s((e(a).params.avgRejectrate1440*100).toFixed(2))+" % ",1)]),t("div",it,[t("div",null,s(i.$t("最后提交日期")),1),t("div",null,s(e(v)(e(a).params.lastShareTime*1e3).format("MMMM Do YYYY, h:mm:ss a")),1)])])])]))}};export{ot as default};
