import{_ as ft,k as mt,g as pt,q as vt,e as z,l as B,K,n as xt,c as p,a as t,b as E,j as l,w as x,t as gt,u as i,v as m,x as o,i as Ct,L as W,s as X,A as bt,z as Z,F as tt,B as et,D as j,G as Y,H as M,h as ht,p as y,o as v,a$ as S,I as st,y as ot}from"./index-CB3OnIWK.js";import{E as zt}from"./el-pagination-Bep9rqRK.js";import{_ as U,a as O}from"./daole-C-o-csqo.js";import{E as yt,a as It,S as it}from"./effect-cards-ACfgOiX0.js";const Nt={class:"over-container"},At={class:"px-9 pb-4 relative"},Tt={class:"bg-zinc-900 rounded-2xl relative overflow-hidden"},wt={class:"p-4 relative grid gap-6 grid-cols-2"},Pt={class:"text-sm"},Et={class:"flex items-center text-xs text-zinc-400 mb-2"},St={class:"text-zinc-200"},Ut={class:"text-sm"},Ot={class:"flex items-center text-xs text-zinc-400 mb-2"},Vt={class:"text-zinc-200"},Dt={class:"text-sm"},kt={class:"flex items-center text-xs text-zinc-400 mb-2"},$t={class:"text-zinc-200"},Bt={class:"text-sm"},jt={class:"flex items-center text-xs text-zinc-400 mb-2"},Yt={class:"text-zinc-200"},Mt={class:"bg-zinc-900 rounded-2xl relative overflow-hidden"},Rt={class:"p-4 relative grid gap-6 grid-cols-2"},Lt={class:"text-sm"},Ft={class:"flex items-center text-xs text-zinc-400 mb-2"},qt={class:"text-zinc-200"},Ht={class:"text-sm"},Qt={class:"flex items-center text-xs text-zinc-400 mb-2"},Jt={class:"text-zinc-200"},Gt={class:"text-sm"},Kt={class:"flex items-center text-xs text-zinc-400 mb-2"},Wt={class:"text-zinc-200"},Xt={class:"text-sm"},Zt={class:"flex items-center text-xs text-zinc-400 mb-2"},te={class:"text-zinc-200"},ee={key:0,class:"text-emerald-400 text-xs flex items-center px-4 mb-4"},se={key:1,class:"mb-4"},oe={class:"px-4"},ie={class:"border-t border-b py-2 text-zinc-300 border-zinc-700 bg-zinc-800 border-b-0 rounded-tl-2xl rounded-tr-2xl"},ae={class:"flex justify-around items-center"},ne={class:"text-zinc-300 text-xs flex items-center justify-center"},re={class:"text-zinc-300 text-xs flex items-center justify-center"},le={class:"mb-10 px-4"},de={class:"overflow-hidden border-t border-b border-zinc-700 bg-zinc-800 rounded-bl-2xl rounded-br-2xl"},ce={class:"flex border-b border-zinc-700 px-4 py-2 text-xs text-zinc-300"},ue={class:"w-1/2 flex"},_e={class:"w-1/2 flex justify-end"},fe={class:"relative"},me={key:0,class:"log-item px-4 flex justify-center py-2 text-xs text-zinc-600 border-zinc-700"},pe=["onClick"],ve={class:"w-2/3 flex flex-col justify-center"},xe={class:"text-xs font-bold text-zinc-200 mb-1"},ge={class:"text-xs text-zinc-400"},Ce={class:"w-1/3 flex justify-end items-center text-xs font-bold text-zinc-200"},be={class:"demo-pagination-block"},he={class:"relative"},ze={key:0,class:"log-item px-4 flex justify-center py-2 text-xs text-zinc-600 border-zinc-700"},ye=["onClick"],Ie={class:"w-2/3 flex flex-col justify-center"},Ne={class:"text-xs font-bold text-zinc-200"},Ae={class:"w-1/3 flex justify-end items-center text-xs font-bold text-zinc-200"},Te={class:"demo-pagination-block"},we={__name:"PayView",setup(Pe){const R=ht(),u=mt(),d=pt(),L=vt(),_=z("income"),A=z([]),V=z(!1),T=z([]),D=z(!1),F=z(!1),q=Ct("payAddress-show"),g=B({size:20,currentPage:1,total:0}),C=B({size:20,currentPage:1,total:0}),r=B({totalProfit:0,unpaidProfit:0,yesterdayProfit:0,yetProfit:0,estimateProfit:0}),at=s=>{R.push({name:"rewards",query:{data:JSON.stringify(s)}})},nt=s=>{R.push({name:"payout",query:{data:JSON.stringify(s)}})},H=()=>{for(let s in r)r[s]=0},h=s=>Number(s).toFixed(8),w=s=>{let e="计算中...",c=L.QUOTES[u.ACTIVE_COIN],f=L.RATES.CNY,b=h(s);return c&&f&&b&&(e="¥ "+(Number(b)*c*f).toFixed(4)),e},k=s=>{F.value=!0,j({url:Y.get_account_profit.replace("{coin}",u.ACTIVE_COIN).replace("{sid}",s)}).then(e=>{if(F.value=!1,e.data.status==0){let c=0,f=0,b=0,P=0;e.data.data.forEach(n=>{n.profit!=null&&n.status=="all"&&(c=n.profit?n.profit:0),n.profit!=null&&n.status=="yesterday"&&(f=n.profit?n.profit:0),n.profit!=null&&n.status=="unpaid"&&(b=n.profit?n.profit:0),n.profit!=null&&n.status=="estimate_profit"&&(P=n.profit?n.profit:0)}),r.unpaidProfit=b,r.yesterdayProfit=f,r.totalProfit=c,r.estimateProfit=P,r.yetProfit=Number(c)-Number(b)}else M.error("获取收益失败。")})},I=()=>{let s=u.ACTIVE_COIN;A.value=[],V.value=!0,j({method:"get",url:Y.get_account_rewards.replace("{coin}",s).replace("{sid}",d.ACTIVE_SUB_ACCOUNT_ID).replace("{page}",g.currentPage).replace("{size}",g.size)}).then(e=>{e.data.status==0?(A.value=e.data.data.records,g.total=e.data.data.total):M.error("获取日志失败。"),V.value=!1})},N=()=>{let s=u.ACTIVE_COIN;T.value=[],D.value=!0,j({method:"get",url:Y.get_account_payouts.replace("{coin}",s).replace("{sid}",d.ACTIVE_SUB_ACCOUNT_ID).replace("{page}",C.currentPage).replace("{size}",C.size)}).then(e=>{e.data.status==0?(T.value=e.data.data.records,C.total=e.data.data.total):M.error("获取日志失败。"),D.value=!1})};K(()=>d.SUB_ACCOUNT,(s,e)=>{H();const c=d.SUB_ACCOUNT;d.ACTIVE_SUB_ACCOUNT_ID==null&&c[0]&&d.SET_ACTIVE_SUB_ACCOUNT_ID(c[0].id),c[0]&&(k(d.ACTIVE_SUB_ACCOUNT_ID),_.value=="income"?I():_.value=="pay"&&N())},{deep:!0}),K(()=>u.ACTIVE_COIN,(s,e)=>{H();const c=d.SUB_ACCOUNT;d.ACTIVE_SUB_ACCOUNT_ID==null&&c[0]&&d.SET_ACTIVE_SUB_ACCOUNT_ID(c[0].id),c[0]&&(k(d.ACTIVE_SUB_ACCOUNT_ID),_.value=="income"?I():_.value=="pay"&&N())},{deep:!0}),xt(()=>{const s=d.SUB_ACCOUNT;d.ACTIVE_SUB_ACCOUNT_ID==null&&s[0]&&d.SET_ACTIVE_SUB_ACCOUNT_ID(s[0].id),s[0]&&(k(d.ACTIVE_SUB_ACCOUNT_ID),_.value=="income"?I():_.value=="pay"&&N())});const Q=s=>{_.value=s,_.value=="income"?I():_.value=="pay"&&N()},$=z(null),rt=s=>{$.value=s},lt=()=>{$.value.slidePrev()},dt=()=>{$.value.slideNext()};return(s,e)=>{const c=y("DArrowLeft"),f=gt,b=y("DArrowRight"),P=y("Microphone"),n=y("Promotion"),ct=y("Histogram"),ut=y("Finished"),J=zt,G=bt;return v(),p("div",Nt,[t("div",At,[t("div",{onClick:lt,class:"h-full flex items-center pb-4 absolute left-[1rem] text-zinc-400 breathing-slide-left-animation"},[l(f,null,{default:x(()=>[l(c)]),_:1})]),t("div",{onClick:dt,class:"h-full flex items-center pb-4 absolute right-[1rem] text-zinc-400 breathing-slide-left-animation"},[l(f,null,{default:x(()=>[l(b)]),_:1})]),l(i(It),{modules:[i(yt)],effect:"cards",onSwiper:rt},{default:x(()=>[l(i(it),null,{default:x(()=>[t("div",Tt,[e[11]||(e[11]=t("div",{class:"absolute bg-zinc-800 w-[26rem] h-[10rem] -rotate-45 right-[-7.5rem] bottom-[-8.5rem]"},null,-1)),e[12]||(e[12]=t("div",{class:"absolute bg-zinc-700 w-[20rem] h-[10rem] -rotate-45 right-[-7.5rem] bottom-[-8.5rem]"},null,-1)),e[13]||(e[13]=t("div",{class:"absolute bg-zinc-600 w-[14rem] h-[10rem] -rotate-45 right-[-7.5rem] bottom-[-8.5rem]"},null,-1)),t("div",wt,[t("div",Pt,[t("div",Et,[e[7]||(e[7]=t("img",{src:U,class:"h-4 mr-1"},null,-1)),m(" "+o(s.$t("总收入")),1)]),t("div",St,o(h(r.totalProfit))+" "+o(i(S).transPoolCoinName(i(u).ACTIVE_COIN)),1)]),t("div",Ut,[t("div",Ot,[e[8]||(e[8]=t("img",{src:U,class:"h-4 mr-1"},null,-1)),m(" "+o(s.$t("已支付")),1)]),t("div",Vt,o(h(r.yetProfit))+" "+o(i(S).transPoolCoinName(i(u).ACTIVE_COIN)),1)]),t("div",Dt,[t("div",kt,[e[9]||(e[9]=t("img",{src:O,class:"h-4 mr-1"},null,-1)),m(" "+o(s.$t("预估CNY")),1)]),t("div",$t,o(w(r.totalProfit)),1)]),t("div",Bt,[t("div",jt,[e[10]||(e[10]=t("img",{src:O,class:"h-4 mr-1"},null,-1)),m(" "+o(s.$t("预估CNY")),1)]),t("div",Yt,o(w(r.yetProfit)),1)])])])]),_:1}),l(i(it),null,{default:x(()=>[t("div",Mt,[e[18]||(e[18]=t("div",{class:"absolute bg-zinc-800 w-[26rem] h-[10rem] -rotate-45 right-[-7.5rem] bottom-[-8.5rem]"},null,-1)),e[19]||(e[19]=t("div",{class:"absolute bg-zinc-700 w-[20rem] h-[10rem] -rotate-45 right-[-7.5rem] bottom-[-8.5rem]"},null,-1)),e[20]||(e[20]=t("div",{class:"absolute bg-zinc-600 w-[14rem] h-[10rem] -rotate-45 right-[-7.5rem] bottom-[-8.5rem]"},null,-1)),t("div",Rt,[t("div",Lt,[t("div",Ft,[e[14]||(e[14]=t("img",{src:U,class:"h-4 mr-1"},null,-1)),m(" "+o(s.$t("未支付收入")),1)]),t("div",qt,o(h(Number(r.unpaidProfit)+Number(r.estimateProfit)))+" "+o(i(S).transPoolCoinName(i(u).ACTIVE_COIN)),1)]),t("div",Ht,[t("div",Qt,[e[15]||(e[15]=t("img",{src:U,class:"h-4 mr-1"},null,-1)),m(" "+o(s.$t("今日已挖")),1)]),t("div",Jt,o(h(r.estimateProfit))+" "+o(i(S).transPoolCoinName(i(u).ACTIVE_COIN)),1)]),t("div",Gt,[t("div",Kt,[e[16]||(e[16]=t("img",{src:O,class:"h-4 mr-1"},null,-1)),m(" "+o(s.$t("预估CNY")),1)]),t("div",Wt,o(w(Number(r.unpaidProfit)+Number(r.estimateProfit))),1)]),t("div",Xt,[t("div",Zt,[e[17]||(e[17]=t("img",{src:O,class:"h-4 mr-1"},null,-1)),m(" "+o(s.$t("预估CNY")),1)]),t("div",te,o(w(r.estimateProfit)),1)])])])]),_:1})]),_:1},8,["modules"])]),i(u).COIN_DEFAULT_PAY[i(u).ACTIVE_COIN].pay_48?(v(),p("div",ee,[l(f,{class:"mr-2"},{default:x(()=>[l(P)]),_:1}),m(o(s.$t("请注意，当前币种首次添加支付地址时，48小时候开始付款，48小时内收益持续累积，首次支付时间为添加支付地址之后的48小时。")),1)])):E("",!0),i(d).OBSERVER?E("",!0):(v(),p("div",se,[t("div",{class:"!border-l-0 !border-r-0 !rounded-none m-button-default w-full",onClick:e[0]||(e[0]=(...a)=>i(q)&&i(q)(...a))},[l(f,{class:"mr-1"},{default:x(()=>[l(n)]),_:1}),m(" "+o(s.$t("修改 / 绑定支付地址")),1)])])),t("div",oe,[t("div",ie,[t("div",ae,[t("div",{onClick:e[1]||(e[1]=a=>Q("income")),class:W(["mode-item border-r border-zinc-600 flex items-center justify-center flex-col w-1/2",{active:_.value=="income"}])},[t("div",ne,[l(f,{class:"mr-1"},{default:x(()=>[l(ct)]),_:1}),m(o(s.$t("收入记录")),1)])],2),t("div",{onClick:e[2]||(e[2]=a=>Q("pay")),class:W(["mode-item flex items-center justify-center flex-col w-1/2",{active:_.value=="pay"}])},[t("div",re,[l(f,{class:"mr-1"},{default:x(()=>[l(ut)]),_:1}),m(o(s.$t("支付记录")),1)])],2)])])]),t("div",le,[t("div",de,[t("div",ce,[t("div",ue,o(s.$t("日期")),1),t("div",_e,o(s.$t("数量")),1)]),X((v(),p("div",fe,[A.value.length?E("",!0):(v(),p("div",me,o(s.$t("无记录")),1)),(v(!0),p(tt,null,et(A.value,a=>(v(),p("div",{class:"log-item px-4 flex py-2 text-xs text-zinc-300 border-zinc-700",onClick:_t=>at(a)},[t("div",ve,[t("div",xe,o(i(st)(a.day).format("MMMM Do YYYY, h:mm:ss a")),1),t("div",ge,o(s.$t("日均算力"))+": "+o(i(ot)(i(u).ACTIVE_COIN,a.avg_hashrate).num)+o(i(ot)(i(u).ACTIVE_COIN,a.avg_hashrate).unit),1)]),t("div",Ce,o(h(a.day_profit)),1)],8,pe))),256)),t("div",be,[l(J,{"current-page":g.currentPage,"onUpdate:currentPage":e[3]||(e[3]=a=>g.currentPage=a),"page-size":g.size,"onUpdate:pageSize":e[4]||(e[4]=a=>g.size=a),size:"default",disabled:!1,background:!1,layout:"prev, pager, next",total:g.total,onCurrentChange:I},null,8,["current-page","page-size","total"])])])),[[G,V.value],[Z,_.value=="income"]]),X((v(),p("div",he,[T.value.length?E("",!0):(v(),p("div",ze,o(s.$t("无记录")),1)),(v(!0),p(tt,null,et(T.value,a=>(v(),p("div",{class:"log-item px-4 flex py-2 text-xs text-zinc-300 border-zinc-700",onClick:_t=>nt(a)},[t("div",Ie,[t("div",Ne,o(i(st)(a.time).format("MMMM Do YYYY, h:mm:ss a")),1)]),t("div",Ae,o(h(a.amount)),1)],8,ye))),256)),t("div",Te,[l(J,{"current-page":C.currentPage,"onUpdate:currentPage":e[5]||(e[5]=a=>C.currentPage=a),"page-size":C.size,"onUpdate:pageSize":e[6]||(e[6]=a=>C.size=a),size:"default",disabled:!1,background:!1,layout:"prev, pager, next",total:C.total,onCurrentChange:N},null,8,["current-page","page-size","total"])])])),[[G,D.value],[Z,_.value=="pay"]])])])])}}},Ve=ft(we,[["__scopeId","data-v-1cb876d8"]]);export{Ve as default};
