import{J as Y,d as B,q as Q,k as q,e as S,l as L,m as V,n as J,p as K,c as f,o as c,a as e,v,x as s,s as W,A as X,j as x,C as Z,w as $,b as _,u as i,F as R,B as H,f as tt,t as et,y as p,D as N,G as E,H as C,I as U}from"./index-CB3OnIWK.js";import{E as st,a as at}from"./el-tab-pane-B7kfLapA.js";const lt={class:"px-4 text-xs text-zinc-400 flex items-center"},nt={class:"w-full h-40 relative"},ot={class:"pointer-events-none absolute inset-0 w-full h-full p-4"},it={class:"text-5xl font-bold transition-all"},rt={class:"text-lime-500"},ct={class:"p-4 -translate-y-12"},dt={class:"flex rounded-lg w-full"},ut={class:"tabs-t-2 w-full h-full"},ft={key:0,class:"text-sm text-gray-400 flex items-center justify-center w-full h-full"},mt=["onClick"],ht={class:"text-xs text-zinc-300 flex items-center justify-between"},_t={class:"py-4"},vt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},xt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},pt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},Nt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},Et={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},Ct={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},bt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},wt={key:0},yt={key:1},It={class:"text-lime-500"},Tt={key:2},$t={key:3},gt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},Ot={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},o="LTC",Ht={__name:"NodeLTC",setup(kt){const{t:h}=Y(),m=B(),r=Q(),G=q(),g=S(null),b=S(!1),M=t=>{window.$Func.copyText(t)},l=L({realtimeHashrate:{num:0,unit:"TH"},workerNum:0,networkHashrate:0,theoreticalIncome:0,theoreticalIncomeUnit:"H",diffculty:0,fee:0}),w=L({series:[{name:`${o}${h("算力")}`,data:[],xAxisData:[]}],showLegend:!1,coin:o}),j=V(()=>{let t=h("获取中...");if(r.QUOTES[o]&&r.RATES.CNY&&l.theoreticalIncome&&r.MERGE_MINING[o]){let a=r.MERGE_MINING[o].DOGE/(1/l.theoreticalIncome)*r.QUOTES.DOGE*r.RATES.CNY,n=r.MERGE_MINING[o].BEL/(1/l.theoreticalIncome)*r.QUOTES.BEL*r.RATES.CNY,d=Number(l.theoreticalIncome)*r.QUOTES[o]*r.RATES.CNY;t="¥ "+(a+n+d).toFixed(2)}return t}),z=()=>{b.value=!0;let t=`${E.get_pool_hashrate}?coin=${o}`;N({method:"get",url:t}).then(a=>{if(b.value=!1,a.data.status==0){let n=P(a.data.data);w.series=[{name:`${o}${h("算力")}`,data:n.data,xAxisData:n.time}],w.customUnit=n.unit,g.value.initChart()}else C.error(h("获取节点信息失败。"))})},O=t=>{let a,n=location.hostname,d=t.port,u=t.remark;return u||(console.log(t.protocol),t.protocol==0?a="stratum+tcp://":t.protocol==1?a="stratum+ssl://":t.protocol==2?a="RMS://":t.protocol==3?a="stratum+(tcp/ssl)://":t.protocol==5&&(a="RMS2://"),`${a}${n}:${d}`)},A=()=>{let t=`${E.get_pool_info}?coin=${o}`;N({method:"get",url:t}).then(n=>{n.data.status==0?(l.workerNum=n.data.data.ltc.workers,l.realtimeHashrate.num=n.data.data.ltc.shares.shares_15m,l.realtimeHashrate.unit=n.data.data.ltc.shares.shares_unit):C.error(h("获取节点信息失败。"))});let a=`${E.get_pool_info_2}?coin=${o}`;N({method:"get",url:a}).then(n=>{n.data.status==0?(l.networkHashrate=n.data.data.LTC.net_hash,l.theoreticalIncome=n.data.data.LTC.rewards_per_unit,l.diffculty=n.data.data.LTC.difficulty,l.theoreticalIncomeUnit=n.data.data.LTC.reward_unit):C.error(h("获取节点信息失败。"))})},P=t=>{U.locale("zh-cn");let a=t.tickers,n=t.unit,d={data:[],time:[],unit:n};for(let u=0;u<a.length;u++){let y=a[u][0],I=a[u][1];d.data.push(I),d.time.push(U(y*1e3).format("MMMM Do YYYY, h:mm:ss a"))}return d},F=()=>{N({method:"get",url:E.get_fee}).then(t=>{t.data.status==0?t.data.data.forEach(a=>{a.coin=="VA-LTC"&&(l.fee=a.r*100)}):C.error(h("获取费率失败!"))})};return J(()=>{A(),F(),z()}),(t,a)=>{const n=K("DocumentCopy"),d=et,u=st,y=at,I=X;return c(),f("div",null,[e("div",lt,[a[0]||(a[0]=e("span",{class:"block rounded-full w-2 h-2 bg-blue-500 mr-2"},null,-1)),v(s(o)+" "+s(t.$t("矿池算力")),1)]),e("div",nt,[W(x(Z,{chartConfig:w,ref_key:"hashChartRef",ref:g},null,8,["chartConfig"]),[[I,b.value]]),e("div",ot,[e("h2",it,[e("span",rt,s(l.realtimeHashrate.num),1),v(" "+s(l.realtimeHashrate.unit),1)])])]),e("div",ct,[e("div",dt,[e("div",ut,[x(y,{"model-value":"all",type:"border-card",class:"h-full"},{default:$(()=>[!i(m).ENDPOINT_NODE[o]||i(m).ENDPOINT_NODE[o]&&!i(m).ENDPOINT_NODE[o][0]?(c(),f("div",ft,s(t.$t("此节点暂无公开端口")),1)):_("",!0),(c(!0),f(R,null,H(i(m).ENDPOINT_NODE[o],(T,k)=>(c(),tt(u,{label:k==0?t.$t("全部地区"):T[0].endpoint_name.split("-")[0],name:k==0?"all":T[0].endpoint_name},{default:$(()=>[(c(!0),f(R,null,H(T,(D,Dt)=>(c(),f("div",{onClick:St=>M(O(D)),class:"p-1"},[e("div",ht,[v(s(O(D))+" ",1),x(d,null,{default:$(()=>[x(n)]),_:1})])],8,mt))),256))]),_:2},1032,["label","name"]))),256))]),_:1})])]),e("div",_t,[e("div",vt,[e("div",null,s(t.$t("日理论收益")),1),e("div",null,s(j.value)+" / "+s(l.theoreticalIncomeUnit),1)]),e("div",xt,[e("div",null,s(t.$t("全网算力")),1),e("div",null,s(i(p)(o,l.networkHashrate).num)+" "+s(i(p)(o,l.networkHashrate).unit),1)]),e("div",pt,[e("div",null,s(t.$t("矿池算力")),1),e("div",null,s(l.realtimeHashrate.num)+" "+s(l.realtimeHashrate.unit),1)]),e("div",Nt,[e("div",null,s(t.$t("矿工数量")),1),e("div",null,s(l.workerNum),1)]),e("div",Et,[e("div",null,s(t.$t("挖矿难度")),1),e("div",null,s(i(p)(o,l.diffculty).num)+" "+s(i(p)(o,l.diffculty).unit),1)]),e("div",Ct,[e("div",null,s(t.$t("最小起付额")),1),e("div",null,s(i(G).COIN_DEFAULT_PAY[o].count)+" "+s(o),1)]),e("div",bt,[i(m).CONFIG.fee=="1"?(c(),f("div",wt,s(t.$t("收益模式与费率")),1)):_("",!0),i(m).CONFIG.fee=="1"?(c(),f("div",yt,[e("div",null,[a[1]||(a[1]=v("PPS ")),e("span",It,s(l.fee)+" %",1)])])):_("",!0),i(m).CONFIG.fee=="0"?(c(),f("div",Tt,s(t.$t("收益模式")),1)):_("",!0),i(m).CONFIG.fee=="0"?(c(),f("div",$t,a[2]||(a[2]=[e("div",null,"PPS",-1)]))):_("",!0)]),e("div",gt,[e("div",null,s(t.$t("打款时间(UTC)")),1),e("div",null,s(t.$t("每日02:00到10:00")),1)]),e("div",Ot,[e("div",null,s(t.$t("结算时间(UTC)")),1),e("div",null,s(t.$t("昨日00:00到今日00:00")),1)])])])])}}};export{Ht as default};
