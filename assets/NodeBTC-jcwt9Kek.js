import{f as D,e as Y,q as U,p as F,s as V,v as L,k as Q,c as d,o as i,b as e,y as x,x as q,B as J,l as v,D as K,t as o,u as l,z as u,w as T,d as _,F as B,C as H,g as W,m as X,G as p,H as b,I as C,J as S}from"./index-BWeRxd06.js";import{E as Z,a as tt}from"./el-tab-pane-BT02QFUt.js";/* empty css                   */const et={class:"w-full h-40 relative"},st={class:"pointer-events-none absolute inset-0 w-full h-full p-4"},at={class:"text-5xl font-bold transition-all"},lt={class:"text-lime-500"},nt={class:"p-4 -translate-y-12"},ot={class:"flex rounded-lg w-full"},it={class:"tabs-t-2 w-full h-full"},rt={key:0,class:"text-sm text-gray-400 flex items-center justify-center w-full h-full"},dt=["onClick"],ct={class:"text-xs text-zinc-300 flex items-center justify-between"},ut={class:"py-4"},ft={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},mt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},_t={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},ht={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},xt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},vt={class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},pt={key:0},bt={key:1},Ct={class:"text-lime-500"},wt={key:2},yt={key:3},n="VA-BTC",Ot={__name:"NodeBTC",setup(Nt){const z=window.$Func,g=D(null),w=D(!1),c=Y(),h=U(),a=F({realtimeHashrate:0,workerNum:0,networkHashrate:0,theoreticalIncome:0,diffculty:0,fee:0}),k=F({series:[{name:"BTC算力",data:[],xAxisData:[]}],showLegend:!1,coin:n}),j=s=>{window.$Func.copyText(s)},P=V(()=>{let s="获取中...",t;return h.QUOTES.BTC&&h.RATES.CNY&&a.theoreticalIncome&&(t="¥ "+(Number(a.theoreticalIncome)*h.QUOTES.BTC*h.RATES.CNY).toFixed(4),s=`1T ≈ ${t} ≈ ${a.theoreticalIncome} ${z.transPoolCoinName(n)}`),s}),E=s=>{let t,m=location.hostname,f=s.port,r=s.remark;return r||(s.protocol==0?t="stratum+tcp://":s.protocol==1?t="stratum+ssl://":s.protocol==2?t="RMS://":s.protocol==3?t="stratum+(tcp/ssl)://":s.protocol==5&&(t="RMS2://"),`${t}${m}:${f}`)},$=s=>{S.locale("zh-cn");let t=s.start_time||s.startTime,m=s.hashrates,f={data:[],time:[]};for(let r=0;r<m.length;r++){let y=t+6e5*r;f.data.push(m[r]),f.time.push(S(y).format("MMMM Do YYYY, h:mm:ss a"))}return f},M=()=>{w.value=!0,p({method:"get",url:b.get_pool_hashrate}).then(s=>{if(w.value=!1,s.data.status==0){let t=$(s.data.data);k.series=[{name:"BTC算力",data:t.data,xAxisData:t.time}],g.value.initChart()}else C.error("获取节点信息失败。")})},R=()=>{p({method:"get",url:b.get_pool_info}).then(s=>{s.data.status==0?(a.realtimeHashrate=s.data.data[0].realtimeHashrate,a.workerNum=s.data.data[0].workerNum):C.error("获取节点信息失败。")}),p({method:"get",url:b.get_pool_info_2}).then(s=>{s.data.status==0?(a.networkHashrate=s.data.data[0].networkHashrate,a.theoreticalIncome=s.data.data[0].theoreticalIncome.toFixed(15).replace(/\.?0+$/,""),a.diffculty=s.data.data[0].diffculty):C.error("获取节点信息失败。")})},A=()=>{p({method:"get",url:b.get_fee}).then(s=>{s.data.status==0?s.data.data.forEach(t=>{t.coin==n&&(a.fee=t.r*100)}):C.error("获取费率失败!")})};return L(()=>{R(),A(),M()}),(s,t)=>{const m=Q("DocumentCopy"),f=X,r=Z,y=tt,G=J;return i(),d("div",null,[t[10]||(t[10]=e("div",{class:"px-4 text-xs text-zinc-400 flex items-center"},[e("span",{class:"block rounded-full w-2 h-2 bg-blue-500 mr-2"}),x("BTC 矿池算力 ")],-1)),e("div",et,[q(v(K,{chartConfig:k,ref_key:"hashChartRef",ref:g},null,8,["chartConfig"]),[[G,w.value]]),e("div",st,[e("h2",at,[e("span",lt,o(l(u)(n,a.realtimeHashrate).num),1),x(" "+o(l(u)(n,a.realtimeHashrate).unit)+" / S ",1)])])]),e("div",nt,[e("div",ot,[e("div",it,[v(y,{"model-value":"all",type:"border-card",class:"h-full"},{default:T(()=>[!l(c).ENDPOINT_NODE[n]||l(c).ENDPOINT_NODE[n]&&!l(c).ENDPOINT_NODE[n][0]?(i(),d("div",rt,"此节点暂无公开端口")):_("",!0),(i(!0),d(B,null,H(l(c).ENDPOINT_NODE[n],(N,I)=>(i(),W(r,{label:I==0?"全部地区":N[0].endpoint_name.split("-")[0],name:I==0?"all":N[0].endpoint_name},{default:T(()=>[(i(!0),d(B,null,H(N,(O,Tt)=>(i(),d("div",{onClick:gt=>j(E(O)),class:"p-1"},[e("div",ct,[x(o(E(O))+" ",1),v(f,null,{default:T(()=>[v(m)]),_:1})])],8,dt))),256))]),_:2},1032,["label","name"]))),256))]),_:1})])]),e("div",ut,[e("div",ft,[t[0]||(t[0]=e("div",null," 日理论收益 ",-1)),e("div",null,o(P.value),1)]),e("div",mt,[t[1]||(t[1]=e("div",null," 全网算力 ",-1)),e("div",null,o(l(u)(n,a.networkHashrate).num)+" "+o(l(u)(n,a.networkHashrate).unit),1)]),e("div",_t,[t[2]||(t[2]=e("div",null," 矿池算力 ",-1)),e("div",null,o(l(u)(n,a.realtimeHashrate).num)+" "+o(l(u)(n,a.realtimeHashrate).unit),1)]),e("div",ht,[t[3]||(t[3]=e("div",null," 矿工数量 ",-1)),e("div",null,o(a.workerNum),1)]),e("div",xt,[t[4]||(t[4]=e("div",null," 挖矿难度 ",-1)),e("div",null,o(l(u)(n,a.diffculty).num)+" "+o(l(u)(n,a.diffculty).unit),1)]),t[7]||(t[7]=e("div",{class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},[e("div",null," 最小起付额 "),e("div",null," 0.001 BTC ")],-1)),e("div",vt,[l(c).CONFIG.fee=="1"?(i(),d("div",pt," 收益模式与费率 ")):_("",!0),l(c).CONFIG.fee=="1"?(i(),d("div",bt,[e("div",null,[t[5]||(t[5]=x("FPPS ")),e("span",Ct,o(a.fee)+" %",1)])])):_("",!0),l(c).CONFIG.fee=="0"?(i(),d("div",wt," 收益模式 ")):_("",!0),l(c).CONFIG.fee=="0"?(i(),d("div",yt,t[6]||(t[6]=[e("div",null,"FPPS",-1)]))):_("",!0)]),t[8]||(t[8]=e("div",{class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},[e("div",null," 打款时间(UTC) "),e("div",null," 每日02:00到10:00 ")],-1)),t[9]||(t[9]=e("div",{class:"flex mb-2 items-center justify-between text-xs text-zinc-400"},[e("div",null," 结算时间(UTC) "),e("div",null," 昨日00:00到今日00:00 ")],-1))])])])}}};export{Ot as default};
